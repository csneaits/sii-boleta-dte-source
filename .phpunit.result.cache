{"version":2,"defects":{"GenerateDtePageTest::test_process_post_dev_simulated_error_queues_document":8,"GenerateDtePageTest::test_wp_error_stub_works":8,"GenerateDtePageTest::test_resolve_track_id_from_error_data":8,"Tests\\Infrastructure\\Engine\\AutoFolioTest::testEngineAssignsFolioWhenMissingInDev":8,"BoletaTotalsTest::test_boleta_afecta_totals":8,"BoletaTotalsTest::test_boleta_exenta_totals":8,"BoletaTotalsTest::test_boleta_rounding_totals_multiple_items":8,"BoletaTotalsTest::test_boleta_and_factura_pdf_totals_are_aligned":8,"Tests\\Infrastructure\\Engine\\Caf\\LibreDteCafBridgeProviderTest::testDevEnvironmentUsesFakerAndAdvancesFolio":8,"Tests\\Infrastructure\\Engine\\Caf\\LibreDteCafBridgeProviderTest::testCertWithoutCafFallsBackToFaker":8,"DteEngineGenerateTest::test_generate_dte_xml":8,"DteEngineGenerateTest::test_generate_dte_xml_uses_nested_emitter_data_when_settings_missing":8,"DteEngineGenerateTest::test_generate_dte_xml_prefers_custom_emitter_giro_over_settings":8,"DteEngineGenerateTest::test_generate_dte_xml_does_not_prefill_missing_receptor_fields":8,"DteEngineGenerateTest::test_generate_dte_xml_strips_bom_and_leading_whitespace":8,"FacturaCompraExentaTest::test_line_exenta_creates_mntexe_without_iva":8,"FacturaCompraForeignGlosaTest::test_term_pago_glosa_pass_through_when_foreign_added_externally":8,"FacturaCompraRetentionTest::test_retencion_total_code_15_present_without_affecting_totals":8,"FacturaCompraRetentionTest::test_retencion_parcial_code_30_present":8,"FacturaCompraRetentionTotalsExampleTest::test_expected_structure_for_full_retention_example":8,"FacturaCompraTotalsTest::test_factura_compra_net_price_not_flagged_gross":8,"LibreDTEEngineTest::test_preview_ignores_real_caf_ranges":8,"LibreDTEEngineTest::test_preview_mode_skips_missing_caf_validation":8,"LibreDTEEngineTest::test_generate_xml_with_flattened_caf_is_normalized":8,"LibreDTEEngineTest::test_generate_xml_uses_normalized_caf_from_memory_store":8,"PdfRetentionRenderTest::test_pdf_contains_retention_labels":8,"RenderPdfTotalsTest::test_render_pdf_preserves_totals_from_detail":8,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"factura_compra\"":8,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"guia_despacho\"":8,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"nota_debito\"":8,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"nota_credito\"":8,"VatInclusiveTotalsAdjusterTest::test_adjuster_converts_gross_line_amounts_to_net_totals":8,"VatInclusiveTotalsAdjusterTest::test_engine_skips_adjustment_when_not_supported":8,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"factura_afecta\"":8,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"factura_compra\"":8,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"guia_despacho\"":8,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"nota_debito\"":8,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"nota_credito\"":8,"ConsumoFoliosTest::test_generates_ranges":8,"FolioManagerTest::test_get_next_folio_consumes_range":8,"FolioManagerTest::test_get_next_folio_without_ranges_returns_zero":8,"FolioManagerTest::test_get_caf_info_returns_defaults_without_ranges":8,"FolioManagerTest::test_get_caf_info_parses_range_data":8,"LibroBoletasTest::test_collect_orders_uses_inclusive_range":8,"ValidationTest::test_rvd_xml_validation":8,"ValidationTest::test_libro_xml_validation":8,"ContainerTest::test_bindings_return_instances":8,"CronTest::test_activate_schedules_event":8,"CronTest::test_deactivate_unschedules_event":8,"Tests\\Infrastructure\\Engine\\Caf\\LibreDteCafBridgeProviderTest::testCertWithRangesAndCafLoadsCafAndKeepsWithinRange":8,"InvalidCafTest::test_missing_range_returns_error":8,"LibreDTEEngineTest::test_pdf_generated_from_xml_fixture":8,"LibreDTEEngineTest::test_render_pdf_resets_mnttotal_before_normalization":8,"LibreDTEEngineTest::test_parse_document_data_from_xml_mirrors_emitter_aliases":8,"LibreDTEEngineTest::test_register_document_factory_overrides_factory_for_tipo":8,"Sii\\BoletaDte\\Tests\\Infrastructure\\Factory\\ContainerTest::test_it_resolves_woo_without_type_error":8,"PdfGeneratorTest::test_generate_includes_logo_when_enabled":8,"PdfGeneratorTest::test_generate_skips_logo_when_disabled":8,"FoliosDbHasTypeTest::test_has_type_detects_single_folio_range":8,"FoliosDbHasTypeTest::test_has_type_honours_environment":8,"FoliosDbHasTypeTest::test_has_type_returns_false_when_no_ranges":8,"FoliosDbTest::test_insert_and_retrieve_ranges":8,"FoliosDbTest::test_update_and_delete_range":8,"FoliosDbTest::test_store_caf_normalizes_keys":8,"FoliosDbTest::test_overlaps_and_find_for_folio":8,"FoliosDbTest::test_purge_resets_store":8,"LogDbPersistenceTest::test_get_logs_filters_by_status":7,"ApiLibreDteWsTest::test_send_recibos_prefers_ws_and_maps_trackid":8,"ApiLibreDteWsTest::test_get_status_prefers_ws_and_maps_status":8,"ApiLibreDteWsTest::test_fallback_to_http_when_ws_disabled":8,"SettingsMigrationTest::test_migrate_options_and_logs":8,"TokenManagerTest::test_caches_token_per_environment":8,"WooIntegrationTest::test_generates_dte_and_saves_track_id":8,"WooIntegrationTest::test_preview_mode_skips_sii_submission":8,"WooIntegrationTest::test_defaults_to_boleta_when_meta_missing":8,"WooIntegrationTest::test_defaults_to_first_enabled_type_when_boleta_disabled":8,"WooIntegrationTest::test_renders_pdf_link_in_my_account":8,"WooIntegrationTest::test_manual_credit_note_uses_partial_refund_data":8,"AdminPagesTest::test_generate_page_renders_success_message":8,"AdminPagesTest::test_control_panel_process_invokes_processor":5,"AjaxValidateEnvioBoletaTest::test_envio_boleta_uses_envio_boleta_schema":8,"AjaxValidateEnvioTest::test_validate_envio_success":8,"AjaxValidateEnvioTest::test_validate_envio_error_with_invalid_xml":8,"AjaxViewPdfTest::test_download_fails_with_invalid_nonce":8,"AjaxViewPdfTest::test_authorized_user_can_download_pdf":8,"ControlPanelPageTest::test_render_shows_queue_items":5,"ControlPanelPageTest::test_render_displays_logs":5,"ControlPanelPageTest::test_cancel_removes_job":8,"ControlPanelPageTest::test_requeue_resets_attempts":8,"GenerateDtePageTest::test_process_post_generates_dte":8,"GenerateDtePageTest::test_process_post_handles_stale_folio_error":8,"GenerateDtePageTest::test_process_post_does_not_fetch_folio_when_xml_generation_fails":8,"GenerateDtePageTest::test_process_post_invalid_nonce":8,"GenerateDtePageTest::test_preview_pdf_uses_descriptive_filename":8,"GenerateDtePageTest::test_process_post_uses_default_emitter_giro":8,"GenerateDtePageTest::test_process_post_queues_when_sii_unavailable":8,"GenerateDtePageTest::test_should_queue_for_error_simulated_error":8,"LogsPageTest::test_renders_table_with_entries":8,"SettingsPageTest::test_render_outputs_field":8,"SettingsPageTest::test_sanitize_settings":8,"SettingsPageTest::test_sanitize_settings_with_only_single_giro":8,"SettingsPageTest::test_sanitize_settings_resolves_relative_cert_path":8,"WooCheckoutTest::test_field_renders":8,"WooCheckoutTest::test_register_adds_validation_hook":8,"WooCheckoutTest::test_validate_fields_rejects_invalid_rut":8,"WooCheckoutTest::test_validate_fields_formats_valid_rut":8,"LoggerTest::test_info_creates_log_file":7,"XmlStorageTest::test_store_moves_file_and_protects_directory":7,"WooTest::test_prepare_order_data_uses_net_line_totals":8,"WooTest::test_prepare_order_data_does_not_include_global_discount_when_totals_are_net":8,"WooTest::test_prepare_order_data_uses_refund_totals_without_global_discount":8},"times":{"GenerateDtePageTest::test_process_post_dev_simulated_error_queues_document":0.005,"GenerateDtePageTest::test_process_post_generates_dte":0.003,"GenerateDtePageTest::test_process_post_handles_stale_folio_error":0.002,"GenerateDtePageTest::test_process_post_does_not_fetch_folio_when_xml_generation_fails":0.001,"GenerateDtePageTest::test_process_post_invalid_nonce":0,"GenerateDtePageTest::test_preview_pdf_uses_descriptive_filename":0.003,"GenerateDtePageTest::test_process_post_uses_default_emitter_giro":0.004,"GenerateDtePageTest::test_process_post_queues_when_sii_unavailable":0.002,"GenerateDtePageTest::test_wp_error_stub_works":0.033,"GenerateDtePageTest::test_should_queue_for_error_simulated_error":0,"GenerateDtePageTest::test_resolve_track_id_from_error_data":0,"ConsumoFoliosTest::test_generates_ranges":0.006,"EmitirDteServiceTest::test_requires_id_and_data":0.001,"EmitirDteServiceTest::test_wraps_repository_exception":0.003,"FolioManagerTest::test_get_next_folio_consumes_range":0,"FolioManagerTest::test_get_next_folio_without_ranges_returns_zero":0,"FolioManagerTest::test_mark_folio_used_updates_expected_value":0,"FolioManagerTest::test_mark_folio_used_advances_when_behind_expected_value":0,"FolioManagerTest::test_get_caf_info_returns_defaults_without_ranges":0,"FolioManagerTest::test_get_caf_info_parses_range_data":0,"LibroBoletasTest::test_collect_orders_uses_inclusive_range":0.002,"QueueProcessorTest::test_process_executes_all_jobs":0.004,"QueueProcessorTest::test_process_resolves_secure_xml_paths":0.002,"QueueProcessorTest::test_failed_jobs_are_delayed_before_retry":0.002,"ValidationTest::test_rvd_xml_validation":0.002,"ValidationTest::test_libro_xml_validation":0.001,"RutTest::test_clean_removes_non_numeric_characters":0,"RutTest::test_is_valid_returns_true_for_valid_rut":0,"RutTest::test_is_valid_returns_false_for_invalid_rut":0,"RutTest::test_format_outputs_standard_representation":0,"RutTest::test_is_generic_detects_placeholder_rut":0,"ProgressTrackerTest::test_mark_uses_current_time_when_missing":0,"ProgressTrackerTest::test_last_timestamp_defaults_to_zero":0,"ContainerTest::test_bindings_return_instances":0.459,"CronTest::test_activate_schedules_event":0,"CronTest::test_deactivate_unschedules_event":0,"Tests\\Infrastructure\\Engine\\AutoFolioTest::testEngineAssignsFolioWhenMissingInDev":0.542,"BoletaTotalsTest::test_boleta_afecta_totals":0.447,"BoletaTotalsTest::test_boleta_exenta_totals":0.389,"BoletaTotalsTest::test_boleta_rounding_totals_multiple_items":0.523,"BoletaTotalsTest::test_boleta_and_factura_pdf_totals_are_aligned":1.039,"Tests\\Infrastructure\\Engine\\Caf\\LibreDteCafBridgeProviderTest::testDevEnvironmentUsesFakerAndAdvancesFolio":0.165,"Tests\\Infrastructure\\Engine\\Caf\\LibreDteCafBridgeProviderTest::testCertWithoutCafFallsBackToFaker":0.078,"Tests\\Infrastructure\\Engine\\Caf\\LibreDteCafBridgeProviderTest::testCertWithRangesAndCafLoadsCafAndKeepsWithinRange":0.002,"DteEngineGenerateTest::test_generate_dte_xml":0.449,"DteEngineGenerateTest::test_generate_dte_xml_uses_nested_emitter_data_when_settings_missing":0.455,"DteEngineGenerateTest::test_generate_dte_xml_prefers_custom_emitter_giro_over_settings":0.296,"DteEngineGenerateTest::test_generate_dte_xml_does_not_prefill_missing_receptor_fields":0.998,"DteEngineGenerateTest::test_generate_dte_xml_strips_bom_and_leading_whitespace":0.574,"FacturaCompraExentaTest::test_line_exenta_creates_mntexe_without_iva":0.505,"FacturaCompraForeignGlosaTest::test_term_pago_glosa_pass_through_when_foreign_added_externally":0.787,"FacturaCompraRetentionTest::test_retencion_total_code_15_present_without_affecting_totals":0.462,"FacturaCompraRetentionTest::test_retencion_parcial_code_30_present":0.371,"FacturaCompraRetentionTotalsExampleTest::test_expected_structure_for_full_retention_example":0.465,"FacturaCompraTotalsTest::test_factura_compra_net_price_not_flagged_gross":0.521,"InvalidCafTest::test_missing_range_returns_error":0,"LibreDTEEngineTest::test_pdf_generated_from_xml_fixture":0.122,"LibreDTEEngineTest::test_render_pdf_resets_mnttotal_before_normalization":0.001,"LibreDTEEngineTest::test_parse_document_data_from_xml_mirrors_emitter_aliases":0,"LibreDTEEngineTest::test_preview_ignores_real_caf_ranges":0.38,"LibreDTEEngineTest::test_preview_mode_skips_missing_caf_validation":0.621,"LibreDTEEngineTest::test_register_document_factory_overrides_factory_for_tipo":0.001,"LibreDTEEngineTest::test_generate_xml_with_flattened_caf_is_normalized":0.504,"LibreDTEEngineTest::test_generate_xml_uses_normalized_caf_from_memory_store":0.518,"NullEngineTest::test_methods_return_false":0,"PdfRetentionRenderTest::test_pdf_contains_retention_labels":0.88,"RenderPdfTotalsTest::test_render_pdf_preserves_totals_from_detail":0.48,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"factura_compra\"":0.515,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"guia_despacho\"":0.575,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"nota_debito\"":0.439,"VatInclusiveTotalsAdjusterTest::test_adjuster_preserves_gross_totals_for_vat_inclusive_documents with data set \"nota_credito\"":0.447,"VatInclusiveTotalsAdjusterTest::test_adjuster_converts_gross_line_amounts_to_net_totals":0.479,"VatInclusiveTotalsAdjusterTest::test_engine_skips_adjustment_when_not_supported":0.483,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"factura_afecta\"":0.472,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"factura_compra\"":0.511,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"guia_despacho\"":0.465,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"nota_debito\"":0.544,"VatInclusiveTotalsAdjusterTest::test_pdf_example_totals_match_expected_values with data set \"nota_credito\"":0.419,"Sii\\BoletaDte\\Tests\\Infrastructure\\Factory\\ContainerTest::test_it_resolves_woo_without_type_error":0.014,"LogDbTest::test_add_and_query_entries":0,"LogDbTest::test_purge_clears_entries":0,"PdfGeneratorTest::test_generate_includes_logo_when_enabled":0.005,"PdfGeneratorTest::test_generate_skips_logo_when_disabled":0.001,"FoliosDbHasTypeTest::test_has_type_detects_single_folio_range":0,"FoliosDbHasTypeTest::test_has_type_honours_environment":0,"FoliosDbHasTypeTest::test_has_type_returns_false_when_no_ranges":0,"FoliosDbTest::test_insert_and_retrieve_ranges":0,"FoliosDbTest::test_update_and_delete_range":0,"FoliosDbTest::test_store_caf_normalizes_keys":0,"FoliosDbTest::test_overlaps_and_find_for_folio":0,"FoliosDbTest::test_purge_resets_store":0,"LogDbPersistenceTest::test_add_entry_and_get_pending_ids":0,"LogDbPersistenceTest::test_get_logs_filters_by_status":0,"LogDbPersistenceTest::test_purge_clears_entries":0,"QueueDbTest::test_enqueue_and_fetch_jobs":0,"QueueDbTest::test_attempts_and_delete":0,"QueueDbTest::test_purge_resets_queue":0,"XmlStorageTest::test_store_moves_file_and_protects_directory":0.003,"XmlStorageTest::test_resolve_path_sanitizes_key":0.003,"ApiFlowTest::test_send_dte_returns_track_id_on_success":0.001,"ApiFlowTest::test_send_dte_returns_error_on_rejection":0.002,"ApiFlowTest::test_send_dte_retries_and_succeeds":0.002,"ApiFlowTest::test_send_libro_returns_track_id":0.001,"ApiFlowTest::test_send_libro_returns_error_on_http_failure":0.001,"ApiFlowTest::test_get_dte_status_returns_status":0,"ApiFlowTest::test_custom_retry_limit":0.004,"ApiLibreDteWsTest::test_send_recibos_prefers_ws_and_maps_trackid":0,"ApiLibreDteWsTest::test_get_status_prefers_ws_and_maps_status":0,"ApiLibreDteWsTest::test_fallback_to_http_when_ws_disabled":0.001,"EndpointsTest::test_get_boleta_html_migrates_file_to_secure_directory":0.001,"EndpointsTest::test_render_boleta_denies_anonymous_request_with_403":0.001,"EndpointsTest::test_render_boleta_404_when_missing_for_authorized_user":0.001,"EndpointsTest::test_render_boleta_allows_privileged_user":0.002,"SignedUrlServiceTest::test_generate_and_validate_signed_url":0.001,"SignedUrlServiceTest::test_validate_token_handles_invalid_and_expired_entries":0,"SettingsEncryptionTest::test_encrypt_and_decrypt_roundtrip":0.001,"SettingsMigrationTest::test_migrate_options_and_logs":0.006,"SettingsTest::test_normalize_environment_and_option_keys":0,"SettingsTest::test_get_and_update_last_folio_value_uses_wordpress_options":0,"SettingsTest::test_compare_and_update_last_folio_value":0,"SettingsTest::test_schedule_option_key_and_preview_only_flag":0,"TokenManagerTest::test_caches_token_per_environment":0.001,"WooCommerceDteRepositoryTest::test_save_stores_dte_data_in_meta":0,"WooIntegrationTest::test_generates_dte_and_saves_track_id":0.004,"WooIntegrationTest::test_preview_mode_skips_sii_submission":0.001,"WooIntegrationTest::test_defaults_to_boleta_when_meta_missing":0.003,"WooIntegrationTest::test_defaults_to_first_enabled_type_when_boleta_disabled":0.006,"WooIntegrationTest::test_renders_pdf_link_in_my_account":0.003,"WooIntegrationTest::test_manual_credit_note_uses_partial_refund_data":0.004,"WooTest::test_prepare_order_data_uses_net_line_totals":0.001,"WooTest::test_prepare_order_data_marks_tax_inclusive_line_totals_as_gross":0.001,"WooTest::test_prepare_order_data_does_not_include_global_discount_when_totals_are_net":0,"WooTest::test_prepare_order_data_uses_refund_totals_without_global_discount":0,"WooTest::test_build_refund_items_uses_net_amounts":0,"AdminPagesTest::test_generate_page_renders_success_message":0.011,"AdminPagesTest::test_control_panel_process_invokes_processor":0.003,"AjaxValidateEnvioBoletaTest::test_envio_boleta_uses_envio_boleta_schema":0.002,"AjaxValidateEnvioTest::test_validate_envio_success":0.001,"AjaxValidateEnvioTest::test_validate_envio_error_with_invalid_xml":0.002,"AjaxViewPdfTest::test_download_fails_with_invalid_nonce":0.001,"AjaxViewPdfTest::test_authorized_user_can_download_pdf":0.001,"ControlPanelPageTest::test_render_shows_queue_items":0.002,"ControlPanelPageTest::test_render_displays_logs":0.001,"ControlPanelPageTest::test_cancel_removes_job":0.001,"ControlPanelPageTest::test_requeue_resets_attempts":0.001,"LogsPageTest::test_renders_table_with_entries":0,"SettingsPageTest::test_render_outputs_field":0,"SettingsPageTest::test_sanitize_settings":0,"SettingsPageTest::test_sanitize_settings_with_only_single_giro":0,"SettingsPageTest::test_sanitize_settings_resolves_relative_cert_path":0,"WooCheckoutTest::test_field_renders":0.001,"WooCheckoutTest::test_register_adds_validation_hook":0,"WooCheckoutTest::test_validate_fields_rejects_invalid_rut":0,"WooCheckoutTest::test_validate_fields_formats_valid_rut":0,"LoggerTest::test_info_creates_log_file":0,"LogDbTest::test_legacy_environment_aliases_are_supported":0}}